{"ast":null,"code":"var _s = $RefreshSig$();\n\n// helpers\nimport { useState } from 'react';\nimport { login as loginApi } from '../../helpers';\nimport { APICore, setAuthorization } from '../../helpers/api/apiCore';\nexport default function useLogin() {\n  _s();\n\n  const api = new APICore();\n  const [user, setUser] = useState();\n  const [error, setError] = useState();\n\n  const login = _ref => {\n    let {\n      email,\n      password\n    } = _ref;\n    const response = loginApi({\n      email,\n      password\n    });\n    response.then(response => {\n      setUser(response.data);\n      api.setLoggedInUser(response.data);\n      setAuthorization(response.data['token']);\n    }).catch(e => {\n      setError(e);\n    });\n  };\n\n  return [user, error, login];\n}\n\n_s(useLogin, \"zRbaj2eaULBH3kHzQ4tPeXg+yW8=\");","map":{"version":3,"sources":["/workspaces/audilex-v02/apps/landing/src/hooks/auth/useLogin.ts"],"names":["useState","login","loginApi","APICore","setAuthorization","useLogin","api","user","setUser","error","setError","email","password","response","then","data","setLoggedInUser","catch","e"],"mappings":";;AAAA;AACA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,KAAK,IAAIC,QAAlB,QAAkC,eAAlC;AACA,SAASC,OAAT,EAAkBC,gBAAlB,QAA0C,2BAA1C;AAEA,eAAe,SAASC,QAAT,GAAoB;AAAA;;AAC/B,QAAMC,GAAG,GAAG,IAAIH,OAAJ,EAAZ;AAEA,QAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,EAAhC;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,EAAlC;;AAEA,QAAMC,KAAK,GAAG,QAA8D;AAAA,QAA7D;AAAEU,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAA6D;AACxE,UAAMC,QAAQ,GAAGX,QAAQ,CAAC;AAAES,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAD,CAAzB;AACAC,IAAAA,QAAQ,CACHC,IADL,CACWD,QAAD,IAAc;AAChBL,MAAAA,OAAO,CAACK,QAAQ,CAACE,IAAV,CAAP;AACAT,MAAAA,GAAG,CAACU,eAAJ,CAAoBH,QAAQ,CAACE,IAA7B;AACAX,MAAAA,gBAAgB,CAACS,QAAQ,CAACE,IAAT,CAAe,OAAf,CAAD,CAAhB;AACH,KALL,EAMKE,KANL,CAMYC,CAAD,IAAO;AACVR,MAAAA,QAAQ,CAACQ,CAAD,CAAR;AACH,KARL;AASH,GAXD;;AAaA,SAAO,CAACX,IAAD,EAAOE,KAAP,EAAcR,KAAd,CAAP;AACH;;GApBuBI,Q","sourcesContent":["// helpers\nimport { useState } from 'react';\nimport { login as loginApi } from '../../helpers';\nimport { APICore, setAuthorization } from '../../helpers/api/apiCore';\n\nexport default function useLogin() {\n    const api = new APICore();\n\n    const [user, setUser] = useState();\n    const [error, setError] = useState();\n\n    const login = ({ email, password }: { email: string; password: string }) => {\n        const response = loginApi({ email, password });\n        response\n            .then((response) => {\n                setUser(response.data);\n                api.setLoggedInUser(response.data);\n                setAuthorization(response.data!['token']);\n            })\n            .catch((e) => {\n                setError(e);\n            });\n    };\n\n    return [user, error, login];\n}\n"]},"metadata":{},"sourceType":"module"}